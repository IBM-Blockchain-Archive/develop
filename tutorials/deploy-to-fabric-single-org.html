<!--
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<!doctype html>
<html lang="en">
<!--
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
  
  
  

<head>
  <meta charset="utf-8">
  
    <title>Deploying to a single organization Hyperledger Fabric | Hyperledger Composer</title>
  
  <meta name="viewport" content="width=device-width">
  <link rel="icon" type="image/x-icon" href="/develop/favicon.ico">
  <meta name="google-site-verification" content="fBQRJ6h7MV7_TJ7grbgq4P-d-07NRfDWPe4pqEEoH5w">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  

  
    <link href="/develop/assets/css/normalize.css" rel="stylesheet">
    <link href="/develop/assets/css/new-style.min.css" rel="stylesheet">
    <link href="/develop/assets/css/grid-layout.min.css" rel="stylesheet">
    <link href="/develop/assets/css/duo.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.6.0/clipboard.min.js"></script>
  

  
</head>


<body class="">

  
  <!-- % include navbar.html % -->
  

  <div class="SiteWrapper">
    
      <!--
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<div class="content">
    <article class="docs-container">
        <!-- If there's a sidebar, divide into 2 columns -->
        
        <div class="page-sidebar-grid" id="off-canvas">
          <!-- <a class="toggle close" href="#">close</a> -->
          <div class="docs-pagenav-grid">
            <!-- Navigation -->
  <nav class="navbar-docs" role="navigation">
        <!-- Just show the product name -->
            <p class="navbar-brand">IBM Blockchain Platform: <b>Develop</b></p>

</nav>

          </div>

          <select id="version" name="version" onchange="location = this.options[this.selectedIndex].value;">
              <option>Select version</option>
              <option value="/composer/latest/introduction/introduction.html" title="The most stable version of Composer">Latest</option>
              <option value="/composer/unstable/introduction/introduction.html" title="The version that will replace Latest">Latest-unstable</option>
          </select>

            <div class="search-form">
              <form action="/develop/search/search.html" method="get">
                <!-- <label for="search-box">Search</label> -->

                <input type="text" id="search-box"  class="search-box" name="query" placeholder="Search here...">
                <input type="submit" class="submit-input hide" value="">

                <div class="search-icon">
                  <img src="/develop/assets/img/Search_Icon_1.svg" class="trigger" type="submit">
                </div>
              </form>
            </div>

          <div class="docs-current-page-grid">
          <p>Deploying to a single organization Hyperledger Fabric</p>
          </div>

          <nav class="context-nav">
            
            
              <ul>
<li><p><a href="/develop/"><b>Introduction</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/introduction/key-concepts">Key Concepts</a></li>
<li><a href="/develop/introduction/solution-architecture">Typical Solution Architecture</a></li>
</ul></li>
<li><p><a href="/develop/installing/installing-index"><b>Installing</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/installing/installing-prereqs">Installing pre-requisites</a></li>
<li><a href="/develop/installing/development-tools">Installing the development environment</a></li>
<li><a href="/develop/installing/update-dev-env">Updating the development environment</a></li>
<li><a href="/develop/installing/uninstall-dev-env">Uninstalling the development environment</a></li>
</ul></li>
<li><p><a href="/develop/tutorials/tutorials"><b>Tutorials</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/tutorials/playground-tutorial">Playground Tutorial</a></li>
<li><a href="/develop/tutorials/developer-tutorial">Developer Tutorial</a></li>
<li><a href="/develop/tutorials/queries">Queries Tutorial</a></li>
<li><a href="/develop/tutorials/deploy-to-fabric-single-org">Deploying to a single organization Hyperledger Fabric</a></li>
<li><a href="/develop/tutorials/deploy-to-fabric-multi-org">Deploying to a multi-organization Hyperledger Fabric</a></li>
<li><a href="/develop/tutorials/invoke-composer-network">Interacting with other business networks</a></li>
<li><a href="/develop/tutorials/acl-trading">Access Control Tutorial - Commodity Trading</a></li>
<li><a href="/develop/tutorials/google_oauth2_rest">Using Google OAUTH2.0 with a Composer REST server</a></li>
</ul></li>
<li><p><a href="/develop/playground/playground-index"><b>Using Playground</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/playground/id-cards-playground">Business Network Cards</a></li>
</ul></li>
<li><p><a href="/develop/business-network/business-network-index"><b>Developing Business Networks</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/business-network/businessnetworkdefinition">Business Network Definitions</a></li>
<li><a href="/develop/business-network/bnd-create">Create a Business Network Definition</a></li>
<li><a href="/develop/business-network/bnd-deploy">Deploying Business Networks</a></li>
<li><a href="/develop/business-network/publishing-events">Emitting Events</a></li>
<li><a href="/develop/business-network/testing">Testing Business Networks</a></li>
<li><a href="/develop/business-network/bnd-publish">Publish Models or Business Network Definitions</a></li>
<li><a href="/develop/business-network/upgrading-bna">Upgrading a deployed business network</a></li>
<li><a href="/develop/business-network/query">Using Queries and Filters with Business Network Data</a></li>
<li><a href="/develop/business-network/programmatic-access-control">Programmatic access control</a></li>
<li><a href="/develop/business-network/historian">Hyperledger Composer Historian</a></li>
<li><a href="/develop/business-network/cloud-wallets">Customising card stores</a></li>
</ul></li>
<li><p><a href="/develop/applications/applications-index"><b>Developing Applications</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/applications/node">Writing a Node.js application</a></li>
<li><a href="/develop/applications/web">Writing Web applications</a></li>
<li><a href="/develop/applications/subscribing-to-events">Subscribing to events</a></li>
</ul></li>
<li><p><a href="/develop/integrating/integrating-index"><b>Integrating Existing Systems</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/integrating/getting-started-rest-api">Generating a REST API</a></li>
<li><a href="/develop/integrating/publishing-events">Publishing events from the REST server</a></li>
<li><a href="/develop/integrating/enabling-rest-authentication">Enabling authentication for the REST server</a></li>
<li><a href="/develop/integrating/enabling-multiuser">Enabling multiple user mode for the REST server</a></li>
<li><a href="/develop/integrating/securing-the-rest-server">Securing the REST server using HTTPS and TLS</a></li>
<li><a href="/develop/integrating/deploying-the-rest-server">Deploying the REST server for a business network</a></li>
<li><a href="/develop/integrating/node-red">Integrating with Node-RED</a></li>
<li><a href="/develop/integrating/call-out">Calling external HTTP or REST services</a></li>
</ul></li>
<li><p><a href="/develop/managing/managingindex"><b>Managing a Deployed Business Network</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/managing/participantsandidentities">Participants and identities</a></li>
<li><a href="/develop/managing/participant-add">Adding participants</a></li>
<li><a href="/develop/managing/id-cards-playground">Creating, Exporting, and Importing Business Network Cards</a></li>
<li><a href="/develop/managing/identity-issue">Issuing a new identity to a participant</a></li>
<li><a href="/develop/managing/identity-bind">Binding an existing identity to a participant</a></li>
<li><a href="/develop/managing/identity-list">Listing all identities in a business network</a></li>
<li><a href="/develop/managing/identity-revoke">Revoking an identity from a participant</a></li>
<li><a href="/develop/managing/connector-information">Interacting with Hyperledger Fabric</a></li>
</ul></li>
<li><p><a href="/develop/problems/diagnostics"><b>Diagnosing Problems</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p></li>
<li><p><a href="/develop/reference/reference-index"><b>Reference</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/reference/MeetTheModules">Hyperledger Composer npm Modules</a></li>
<li><a href="/develop/reference/cto_language">Modeling Language</a></li>
<li><a href="/develop/reference/acl_language">Access Control Language</a></li>
<li><a href="/develop/reference/query-language">Query Language</a></li>
<li><a href="/develop/reference/model-compatibility">Model Compatibility</a></li>
<li><a href="/develop/reference/connectionprofile">Connection Profiles</a></li>
<li><a href="/develop/reference/js_scripts">Transaction Processor Functions</a></li>
<li><a href="/develop/reference/commands">Hyperledger Composer CLI Commands</a></li>
<li><a href="/develop/reference/rest-server">Hyperledger Composer REST Server</a></li>
<li><a href="/develop/reference/glossary">Hyperledger Composer Glossary of Terms</a></li>
</ul></li>
<li><p><a href="/develop/support/support-index"><b>Support</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p></li>
<li><p><a href="/develop/api/api-doc-index"><b>API Reference</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/api/allData">API Class Index</a></li>
<li><a href="/develop/api/admin-adminconnection">AdminConnection (Admin API)</a></li>
<li><a href="/develop/api/client-assetregistry">AssetRegistry (Client API)</a></li>
<li><a href="/develop/api/client-businessnetworkconnection">BusinessNetworkConnection (Client API)</a></li>
<li><a href="/develop/api/client-historian">Historian (Client API)</a></li>
<li><a href="/develop/api/client-identityregistry">IdentityRegistry (Client API)</a></li>
<li><a href="/develop/api/client-participantregistry">ParticipantRegistry (Client API)</a></li>
<li><a href="/develop/api/client-query">Query (Client API)</a></li>
<li><a href="/develop/api/client-registry">Registry (Client API)</a></li>
<li><a href="/develop/api/client-transactionregistry">TransactionRegistry (Client API)</a></li>
<li><a href="/develop/api/common-assetdeclaration">AssetDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-businessnetworkcardstore">BusinessNetworkCardStore (Common API)</a></li>
<li><a href="/develop/api/common-businessnetworkdefinition">BusinessNetworkDefinition (Common API)</a></li>
<li><a href="/develop/api/common-businessnetworkmetadata">BusinessNetworkMetadata (Common API)</a></li>
<li><a href="/develop/api/common-classdeclaration">ClassDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-conceptdeclaration">ConceptDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-concept">Concept (Common API)</a></li>
<li><a href="/develop/api/common-enumdeclaration">EnumDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-enumvaluedeclaration">EnumValueDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-eventdeclaration">EventDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-factory">Factory (Common API)</a></li>
<li><a href="/develop/api/common-functiondeclaration">FunctionDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-idcard">IdCard (Common API)</a></li>
<li><a href="/develop/api/common-identifiable">Identifiable (Common API)</a></li>
<li><a href="/develop/api/common-introspector">Introspector (Common API)</a></li>
<li><a href="/develop/api/common-modelfile">ModelFile (Common API)</a></li>
<li><a href="/develop/api/common-modelmanager">ModelManager (Common API)</a></li>
<li><a href="/develop/api/common-participantdeclaration">ParticipantDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-property">Property (Common API)</a></li>
<li><a href="/develop/api/common-relationshipdeclaration">RelationshipDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-relationship">Relationship (Common API)</a></li>
<li><a href="/develop/api/common-resource">Resource (Common API)</a></li>
<li><a href="/develop/api/common-serializer">Serializer (Common API)</a></li>
<li><a href="/develop/api/common-transactiondeclaration">TransactionDeclaration (Common API)</a></li>
<li><a href="/develop/api/common-typed">Typed (Common API)</a></li>
<li><a href="/develop/api/common-validatedconcept">ValidatedConcept (Common API)</a></li>
<li><a href="/develop/api/common-validatedresource">ValidatedResource (Common API)</a></li>
<li><a href="/develop/api/runtime-api">Api (Runtime API)</a></li>
<li><a href="/develop/api/runtime-assetregistry">AssetRegistry (Runtime API)</a></li>
<li><a href="/develop/api/runtime-factory">Factory (Runtime API)</a></li>
<li><a href="/develop/api/runtime-participantregistry">ParticipantRegistry (Runtime API)</a></li>
<li><a href="/develop/api/runtime-query">Query (Runtime API)</a></li>
<li><a href="/develop/api/runtime-serializer">Serializer (Runtime API)</a></li>
</ul></li>
<li><p><a href="/develop/systemns/systemns-index"><b>System Namespace Reference</b><img src="/develop/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/develop/systemns/01_summary">Summary</a></li>
<li><a href="/develop/systemns/02_assets">Assets</a></li>
<li><a href="/develop/systemns/03_participants">Participants</a></li>
<li><a href="/develop/systemns/04_transactions">Transactions</a></li>
<li><a href="/develop/systemns/05_events">Events</a></li>
<li><a href="/develop/systemns/06_enums">Enums</a></li>
</ul></li>
</ul>

            
                <div class="docs-footer-grid">
                <div class="footer-bg-break docs-footer-break">
<div class="footer-container-break">
    <div class="footer-left-break">
      <p>View the <a href="http://www14.software.ibm.com/cgi-bin/weblap/lap.pl?li_formnum=L-MCAE-ATLKDW&title=IBM%20Blockchain%20Platform:%20Develop">license information</a></p>
    </div>
</div>
</div>

                </div>
          </nav>
        </div>
        <div class="page-content-grid">
          <section class="content-chunk">
            <!-- <a class="toggle open" href="#nav">open</a> -->
            
              <h1 id="deploying-a-ibm-blockchain-platform-develop-blockchain-business-network-to-hyperledger-fabric-for-a-single-organization">Deploying a IBM Blockchain Platform: Develop blockchain business network to Hyperledger Fabric for a single organization</h1>

<p>In the <a href="../installing/development-tools.html">development environment</a>, a simple development only Hyperledger Fabric single organization, single peer network is created for you (<code>fabric-dev-servers</code>), along with all of the IBM Blockchain Platform: Develop configuration that you need in order to deploy a blockchain business network.</p>

<p>This tutorial will demonstrate the steps that an administrator needs to take in order to deploy a blockchain business network to an instance of Hyperledger Fabric for a single organization, including how to generate the necessary IBM Blockchain Platform: Develop configuration. A subsequent tutorial will demonstrate how to deploy a blockchain business network to an instance of Hyperledger Fabric for multiple organizations.</p>

<p>During this tutorial, you may wish to refer to the <a href="http://hyperledger-fabric.readthedocs.io">Hyperledger Fabric documentation</a>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ol>
<li>Before you continue, ensure that you have followed the steps in <a href="../installing/development-tools.html">installing a development environment</a>.</li>
</ol>

<h2 id="step-one-starting-a-hyperledger-fabric-network">Step One: Starting a Hyperledger Fabric network</h2>

<p>In order to follow this tutorial, you must start a Hyperledger Fabric network. You can use the simple Hyperledger Fabric network provided in the development environment, or you can use your own Hyperledger Fabric network that you have built by following the Hyperledger Fabric documentation.</p>

<p>The tutorial will assume that you use the simple Hyperledger Fabric network provided in the development environment. If you use your own Hyperledger Fabric network, then you must map between the configuration detailed below and your own configuration and it should be a single organization network.</p>

<ol>
<li><p>Start a clean Hyperledger Fabric by running the following commands:</p>
<div class="highlight"><pre><code class="language-" data-lang="">cd ~/fabric-dev-servers
./stopFabric.sh
./teardownFabric.sh
./downloadFabric.sh
./startFabric.sh
</code></pre></div></li>
<li><p>Delete any business network cards that may exist in your wallet. It is safe to ignore any errors that state that the business network cards cannot be found:</p>
<div class="highlight"><pre><code class="language-" data-lang="">composer card delete -c PeerAdmin@fabric-network
composer card delete -c admin@tutorial-network
</code></pre></div></li>
</ol>

<p>If these commands fail, then you have network cards from a previous version and you will have to delete the file system card store.</p>
<div class="highlight"><pre><code class="language-" data-lang="">    rm -fr ~/.composer
</code></pre></div>
<h2 id="step-two-exploring-the-hyperledger-fabric-network">Step Two: Exploring the Hyperledger Fabric network</h2>

<p>This step will explore the Hyperledger Fabric network that you have just started, so that you can understand how it has been configured, and what components it consists of. You will use all of the information in this section to configure IBM Blockchain Platform: Develop in subsequent steps.</p>

<h4 id="configuration-files">Configuration files</h4>

<p>The simple Hyperledger Fabric network provided in the development environment has been configured using the Hyperledger Fabric configuration tools <code>cryptogen</code> and <code>configtxgen</code>.</p>

<p>The configuration for <code>cryptogen</code> is stored in the file:</p>
<div class="highlight"><pre><code class="language-" data-lang="">~/fabric-dev-servers/fabric-scripts/hlfv11/composer/crypto-config.yaml
</code></pre></div>
<p>The configuration for <code>configtxgen</code> is stored in the file:</p>
<div class="highlight"><pre><code class="language-" data-lang="">~/fabric-dev-servers/fabric-scripts/hlfv11/composer/configtx.yaml
</code></pre></div>
<p>You can find more information about these configuration tools, what they do, and how to use them by reading the Hyperledger Fabric documentation.</p>

<h4 id="organizations">Organizations</h4>

<p>The simple Hyperledger Fabric network is made up of a single organization called <code>Org1</code>. The organization uses the domain name <code>org1.example.com</code>. Additionally, the Membership Services Provider (MSP) for this organization is called <code>Org1MSP</code>. In this tutorial, you will deploy a blockchain business network that only the organization <code>Org1</code> can interact with.</p>

<h4 id="network-components">Network components</h4>

<p>The Hyperledger Fabric network is made up of several components:</p>

<ul>
<li>A single peer node for <code>Org1</code>, named <code>peer0.org1.example.com</code>.

<ul>
<li>The request port is 7051.</li>
<li>The event hub port is 7053.</li>
</ul></li>
<li>A single Certificate Authority (CA) for <code>Org1</code>, named <code>ca.org1.example.com</code>.

<ul>
<li>The CA port is 7054.</li>
</ul></li>
<li>A single orderer node, named <code>orderer.example.com</code>.

<ul>
<li>The orderer port is 7050.</li>
</ul></li>
</ul>

<p>The Hyperledger Fabric network components are running inside Docker containers. When running IBM Blockchain Platform: Develop within a Docker container, the names above (for example, <code>peer0.org1.example.com</code>) can be used to interact with the Hyperledger Fabric network.</p>

<p>This tutorial will run IBM Blockchain Platform: Develop commands on the Docker host machine, rather than from inside the Docker network. This means that the IBM Blockchain Platform: Develop commands must interact with the Hyperledger Fabric network using <code>localhost</code> as the host name and the exposed container ports.</p>

<h4 id="users">Users</h4>

<p>The organization <code>Org1</code> is configured with a user named <code>Admin@org1.example.com</code>. This user is an administrator. Administrators for an organization have the permission to install the code for a blockchain business network onto their organization&#39;s peers, and can also have the permission to start the blockchain business network, depending on configuration. In this tutorial, you will deploy a blockchain business network by acting as the user <code>Admin@org1.example.com</code>.</p>

<p>The user <code>Admin@org1.example.com</code> has a set of certificates and private key files stored in the directory:</p>
<div class="highlight"><pre><code class="language-" data-lang="">~/fabric-dev-servers/fabric-scripts/hlfv11/composer/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</code></pre></div>
<p>You will use some of these files later on to interact with the Hyperledger Fabric network.</p>

<p>In addition to the administrator, the CA (Certificate Authority) for <code>Org1</code> has been configured with a default user. This default user has an enrollment ID of <code>admin</code> and an enrollment secret of <code>adminpw</code>. However, this user does not have permission to deploy a blockchain business network.</p>

<h4 id="channel">Channel</h4>

<p>Finally, a channel named <code>composerchannel</code> has been created. The peer node <code>peer0.org1.example.com</code> has been joined to this channel. You can only deploy IBM Blockchain Platform: Develop blockchain business networks into existing channels, but you can create additional channels by following the Hyperledger Fabric documentation.</p>

<h2 id="step-three-building-a-connection-profile">Step Three: Building a connection profile</h2>

<p>A connection profile specifies all of the information required to locate and connect to the Hyperledger Fabric network, for example the host names and ports of all of the Hyperledger Fabric network components. In this step, you will create a connection profile for IBM Blockchain Platform: Develop to use to connect to the Hyperledger Fabric network.</p>

<ol>
<li><p>Create a connection profile file called <code>connection.json</code>.</p></li>
<li><p>Give the connection profile <code>name</code>, <code>version</code> and <code>x-type</code> properties by adding the following three lines to the top of <code>connection.json</code>:</p>
<div class="highlight"><pre><code class="language-" data-lang="">{
    "name": "fabric-network",
    "x-type": "hlfv1",
    "version": "1.0.0",
</code></pre></div>
<p>The <code>name</code> property in a connection profile gives a name to the Hyperledger Fabric network, so we can reference it later on. In the connection profile you have just created, the name is <code>fabric-network</code>. You can use any name you like for the Hyperledger Fabric network.</p>

<p>IBM Blockchain Platform: Develop is designed to be compatible with different types blockchain networks. Currently, only Hyperledger Fabric v1.x is supported, but you must specify the type of blockchain network to use. The x-type for Hyperledger Fabric  is <code>hlfv1</code>.</p>

<p>The version number is the version of this connection profile format. Currently there is only 1 version of <code>1.0.0</code>.</p>

<p>There is also an optional property <code>x-commitTimeout</code> which can also be specified with defines how long IBM Blockchain Platform: Develop should wait for a submitted transaction to be committed to your organization&#39;s peer before
  giving up waiting. The default if not specified is <code>300 seconds</code>.</p></li>
<li><p>We must specify the host names and ports of all of the peer nodes in the Hyperledger Fabric network. There is only 1 peer and we give it a label of <code>peer0.org1.example.com</code>.</p>
<div class="highlight"><pre><code class="language-" data-lang="">    "peers": {
        "peer0.org1.example.com": {
            "url": "grpc://localhost:7051",
            "eventUrl": "grpc://localhost:7053"
        }
    },
</code></pre></div>
<p>Here, we have specified our single peer node <code>peer0.org1.example.com</code> (using the host name <code>localhost</code>), the request port 7051, and the event hub port 7053.</p>

<p>The <code>peers</code> array can contain multiple peer nodes. If you have multiple peer nodes, you should add them all to the <code>peers</code> object.</p></li>
<li><p>We must specify the host name and port of the certificate authority (CA) in the Hyperledger Fabric network that we want to use for enrolling existing users and registering new users.</p>
<div class="highlight"><pre><code class="language-" data-lang="">    "certificateAuthorities": {
        "ca.org1.example.com": {
            "url": "http://localhost:7054",
            "caName": "ca.org1.example.com"
        }
    },
</code></pre></div>
<p>Here we have specified our single CA <code>ca.org1.example.com</code> (using the hostname <code>localhost</code>) and the CA port 7054, and we also label this entry as <code>ca-org1.example.com</code></p></li>
<li><p>We must specify the host names and ports of all of the ordering nodes in the Hyperledger Fabric that we want to connect to.</p>
<div class="highlight"><pre><code class="language-" data-lang="">    "orderers": {
        "orderer.example.com": {
            "url": "grpc://localhost:7050"
        }
    },
</code></pre></div>
<p>Here, we have specified our single orderer node <code>orderer.example.com</code> (using the hostname <code>localhost</code>) and the orderer port 7050 and we also label this as <code>orderer.example.com</code>.</p>

<p>The <code>orderers</code> object can contain multiple orderer nodes. If you have multiple orderer nodes, you should add them all to the <code>orderers</code> object.</p></li>
<li><p>We now must specify all the organizations in the network. In this tutorial there is only 1 organization, <code>Org1</code>.</p>
<div class="highlight"><pre><code class="language-" data-lang="">    "organizations": {
        "Org1": {
            "mspid": "Org1MSP",
            "peers": [
                "peer0.org1.example.com"
            ],
            "certificateAuthorities": [
                "ca.org1.example.com"
            ]
        }
    },
</code></pre></div>
<p>Here we are describing the owners of the peers and who their certificate authority is plus we also declare the MSP id that has been defined for this organisation. In this tutorial it has been defined as <code>Org1MSP</code>.</p></li>
<li><p>We must specify the name of an existing channel. We will deploy our blockchain business network into the channel <code>composerchannel</code>. This is defined in the channels object.</p>
<div class="highlight"><pre><code class="language-" data-lang="">    "channels": {
        "composerchannel": {
            "orderers": [
                "orderer.example.com"
            ],
            "peers": {
                "peer0.org1.example.com": {
                    "endorsingPeer": true,
                    "chaincodeQuery": true,
                    "eventSource": true
                }
            }
        }
    },
</code></pre></div>
<p>Here we are defined the channel <code>composerchannel</code> and also the orderers and peers that are part of that channel. We also specify the roles the peer will perform in this channel. In this tutorial we have added the single orderer and single peer defined earlier referenced using their labels. The peer will have the business network installed so will be a transaction endorser, able to handle chaincode queries and also generate events.
The blockchain business network will be deployed to all of the specified peer nodes. Once the blockchain business network has been deployed, the specified peer nodes will be used for querying the blockchain business network, endorsing transactions, and subscribing to events.</p></li>
<li><p>The final section this is required is the client section. This is used by client applications (such as IBM Blockchain Platform: Develop) to know what organization it is representing when interacting and also some extra optional timeouts.</p>
<div class="highlight"><pre><code class="language-" data-lang="">    "client": {
        "organization": "Org1",
        "connection": {
            "timeout": {
                "peer": {
                    "endorser": "300",
                    "eventHub": "300",
                    "eventReg": "300"
                },
                "orderer": "300"
            }
        }
    }
}
</code></pre></div></li>
</ol>

<p>Here we are specifying that we are in <code>Org1</code>. The timeouts are used to determine how long to wait for a response when interacting with a peer or orderer and the values are specified in seconds. If you don&#39;t specify anything then the default is <code>45 seconds</code>.</p>

<ol>
<li><p>Save your changes to <code>connection.json</code>. The completed connection profile should look like the following:</p>
<div class="highlight"><pre><code class="language-" data-lang="">{
    "name": "fabric-network",
    "x-type": "hlfv1",
    "version": "1.0.0",
    "peers": {
        "peer0.org1.example.com": {
            "url": "grpc://localhost:7051",
            "eventUrl": "grpc://localhost:7053"
        }
    },
    "certificateAuthorities": {
        "ca.org1.example.com": {
            "url": "http://localhost:7054",
            "caName": "ca.org1.example.com"
        }
    },
    "orderers": {
        "orderer.example.com": {
            "url": "grpc://localhost:7050"
        }
    },
    "organizations": {
        "Org1": {
            "mspid": "Org1MSP",
            "peers": [
                "peer0.org1.example.com"
            ],
            "certificateAuthorities": [
                "ca.org1.example.com"
            ]
        }
    },
    "channels": {
        "composerchannel": {
            "orderers": [
                "orderer.example.com"
            ],
            "peers": {
                "peer0.org1.example.com": {
                    "endorsingPeer": true,
                    "chaincodeQuery": true,
                    "eventSource": true
                }
            }
        }
    },
    "client": {
        "organization": "Org1",
        "connection": {
            "timeout": {
                "peer": {
                    "endorser": "300",
                    "eventHub": "300",
                    "eventReg": "300"
                },
                "orderer": "300"
            }
        }
    }
}
</code></pre></div></li>
</ol>

<h2 id="step-four-locating-the-certificate-and-private-key-for-the-hyperledger-fabric-administrator">Step Four: Locating the certificate and private key for the Hyperledger Fabric administrator</h2>

<p>In order to deploy a blockchain business network to this Hyperledger Fabric network, we must identify ourselves as an administrator with the permissions to perform this operation. In this step, you locate the files required to identify yourself as an administrator.</p>

<p>The administrator for our Hyperledger Fabric network is a user called <code>Admin@org1.example.com</code>. The certificates and private key files for this user are stored in the directory:</p>
<div class="highlight"><pre><code class="language-" data-lang="">~/fabric-dev-servers/fabric-scripts/hlfv11/composer/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</code></pre></div>
<p>You must first locate the certificate file for this user. The certificate is the public part of the identity. The certificate file can be found in the <code>signcerts</code> subdirectory and is named <code>Admin@org1.example.com-cert.pem</code>. If you look at the contents of this file, then you will find a PEM encoded certificate similar to the following:</p>
<div class="highlight"><pre><code class="language-" data-lang="">-----BEGIN CERTIFICATE-----
MIICGjCCAcCgAwIBAgIRANuOnVN+yd/BGyoX7ioEklQwCgYIKoZIzj0EAwIwczEL
MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG
cmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh
Lm9yZzEuZXhhbXBsZS5jb20wHhcNMTcwNjI2MTI0OTI2WhcNMjcwNjI0MTI0OTI2
WjBbMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN
U2FuIEZyYW5jaXNjbzEfMB0GA1UEAwwWQWRtaW5Ab3JnMS5leGFtcGxlLmNvbTBZ
MBMGByqGSM49AgEGCCqGSM49AwEHA0IABGu8KxBQ1GkxSTMVoLv7NXiYKWj5t6Dh
WRTJBHnLkWV7lRUfYaKAKFadSii5M7Z7ZpwD8NS7IsMdPR6Z4EyGgwKjTTBLMA4G
A1UdDwEB/wQEAwIHgDAMBgNVHRMBAf8EAjAAMCsGA1UdIwQkMCKAIBmrZau7BIB9
rRLkwKmqpmSecIaOOr0CF6Mi2J5H4aauMAoGCCqGSM49BAMCA0gAMEUCIQC4sKQ6
CEgqbTYe48az95W9/hnZ+7DI5eSnWUwV9vCd/gIgS5K6omNJydoFoEpaEIwM97uS
XVMHPa0iyC497vdNURA=
-----END CERTIFICATE-----
</code></pre></div>
<p>Next, you must locate the private key file for this user. The private key is used to sign transactions as this identity. The private key file can be found in the <code>keystore</code> subdirectory. The name of the private key file is a long hexadecimal string, with a suffix of <code>_sk</code>, for example <code>114aab0e76bf0c78308f89efc4b8c9423e31568da0c340ca187a9b17aa9a4457_sk</code>. The name will change every time the configuration is generated. If you look at the contents of this file, then you will find a PEM encoded private key similar to the following:</p>
<div class="highlight"><pre><code class="language-" data-lang="">-----BEGIN PRIVATE KEY-----
MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQg00IwLLBKoi/9ikb6
ZOAV0S1XeNGWllvlFDeczRKQn2uhRANCAARrvCsQUNRpMUkzFaC7+zV4mClo+beg
4VkUyQR5y5Fle5UVH2GigChWnUoouTO2e2acA/DUuyLDHT0emeBMhoMC
-----END PRIVATE KEY-----
</code></pre></div>
<p>Remember the path to both of these files, or copy them into the same directory as the connection profile file <code>connection.json</code> that you created in the previous step. You will need these files in the next step.</p>

<h2 id="step-five-creating-a-business-network-card-for-the-hyperledger-fabric-administrator">Step Five: Creating a business network card for the Hyperledger Fabric administrator</h2>

<p>A business network card contains all of the information required to connect to a blockchain business network and the underlying Hyperledger Fabric network. This information includes the connection profile created in step three, and the certificate and private key for the administrator located in step four.</p>

<p>In this step you will create a business network card for the administrator to use to deploy the blockchain business network to the Hyperledger Fabric network.</p>

<p>Run the <code>composer card create</code> command to create a business network card. You must specify the path to all three files that you either created or located in the previous steps:</p>
<div class="highlight"><pre><code class="language-" data-lang="">composer card create -p connection.json -u PeerAdmin -c Admin@org1.example.com-cert.pem -k 114aab0e76bf0c78308f89efc4b8c9423e31568da0c340ca187a9b17aa9a4457_sk -r PeerAdmin -r ChannelAdmin
</code></pre></div>
<p>A business network card file called <code>PeerAdmin@fabric-network.card</code> will have been written to the current directory. Let&#39;s explore the options that we passed to the <code>composer card create</code> command.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-p connection.json
</code></pre></div>
<p>This is the path to the connection profile file that we created in step three.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-u PeerAdmin
</code></pre></div>
<p>This is a name that we use to refer to the administrator user. Instead of using <code>Admin@org1.example.com</code> everywhere, which is quite lengthy to type, we have given a name of <code>PeerAdmin</code> so we can easily refer to this user.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-c Admin@org1.example.com-cert.pem
</code></pre></div>
<p>This is the path to the certificate file for the user <code>Admin@org1.example.com</code> that we located in step four.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-k 114aab0e76bf0c78308f89efc4b8c9423e31568da0c340ca187a9b17aa9a4457_sk
</code></pre></div>
<p>This is the path to the private key file for the user <code>Admin@org1.example.com</code> that we located in step four.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-r PeerAdmin -r ChannelAdmin
</code></pre></div>
<p>Here, we specify which roles the user has. This information is required so that IBM Blockchain Platform: Develop playground knows which users are able to perform which operations. The user <code>Admin@org1.example.com</code> is an administrator for the Hyperledger Fabric network, and has the roles <code>PeerAdmin</code> (ability to install chaincode) and <code>ChannelAdmin</code> (ability to instantiate chaincode).</p>

<h2 id="step-six-importing-the-business-network-card-for-the-hyperledger-fabric-administrator">Step Six: Importing the business network card for the Hyperledger Fabric administrator</h2>

<p>IBM Blockchain Platform: Develop can only use business network cards that are placed into a wallet. The wallet is a directory on the file system that contains business network cards. In this step, you will import the business network card created in step five into the wallet so that you can use the business network card in subsequent steps.</p>

<p>Run the <code>composer card import</code> command to import the business network card into the wallet:</p>
<div class="highlight"><pre><code class="language-" data-lang="">composer card import -f PeerAdmin@fabric-network.card
</code></pre></div>
<p>Let&#39;s explore the options that we passed to the <code>composer card import</code> command.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-f PeerAdmin@fabric-network.card
</code></pre></div>
<p>This is the path to the business network card file that we created in step five.</p>

<p>You can now use this business network card by specifying the name <code>PeerAdmin@fabric-network</code>. You are now all set to deploy the blockchain business network to the Hyperledger Fabric network.</p>

<p>We are going to deploy the blockchain business network <code>tutorial-network</code> that is created by following the <a href="./developer-tutorial.html">Developer Tutorial</a>. If you haven&#39;t created a business network archive (.bna) file by following the developer tutorial, follow steps 1, 2, and 3 of the developer tutorial.</p>

<h2 id="step-seven-installing-the-ibm-blockchain-platform-develop-business-network-onto-the-hyperledger-fabric-peer-nodes">Step Seven: Installing the IBM Blockchain Platform: Develop business network onto the Hyperledger Fabric peer nodes</h2>

<p>In this step, you will install your blockchain business network onto all of your organizations Hyperledger Fabric peer nodes. In Hyperledger Fabric terms, this is a chaincode install operation.</p>

<p>Run the <code>composer network install</code> command to install the IBM Blockchain Platform: Develop runtime onto the Hyperledger Fabric peer nodes that you specified in the connection profile file you created in step three:</p>
<div class="highlight"><pre><code class="language-" data-lang="">composer network install -c PeerAdmin@fabric-network -a tutorial-network@0.0.1.bna
</code></pre></div>
<p>Let&#39;s explore the options that we passed to the <code>composer network install</code> command.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-c PeerAdmin@fabric-network
</code></pre></div>
<p>This is the name of the business network card that we imported into the wallet in step six.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-a tutorial-network@0.0.1.bna
</code></pre></div>
<p>You must install a copy of the business network. Here we specify the file name of the blockchain business network that we are deploying, <code>tutorial-network@0.0.1.bna</code>.</p>

<h2 id="step-eight-starting-the-blockchain-business-network">Step Eight: Starting the blockchain business network</h2>

<p>In this step, you will start the blockchain business network. In Hyperledger Fabric terms, this is a chaincode instantiate operation.</p>

<p>Run the <code>composer network start</code> command to start the blockchain business network:</p>
<div class="highlight"><pre><code class="language-" data-lang="">composer network start --networkName tutorial-network --networkVersion 0.0.1 -A admin -S adminpw -c PeerAdmin@fabric-network
</code></pre></div>
<p>Let&#39;s explore the options that we passed to the <code>composer network start</code> command.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-c PeerAdmin@fabric-network
</code></pre></div>
<p>This is the name of the business network card that we imported into the wallet in step six.</p>
<div class="highlight"><pre><code class="language-" data-lang="">--networkName tutorial-network
</code></pre></div>
<p>This is the name of blockchain business network called <code>tutorial-network</code>.</p>
<div class="highlight"><pre><code class="language-" data-lang="">--networkVersion 0.0.1
</code></pre></div>
<p>This is the version of blockchain business network called <code>tutorial-network</code>, defined in the <code>version</code> property of the package.json for the business network</p>
<div class="highlight"><pre><code class="language-" data-lang="">-A admin
</code></pre></div>
<p>When a blockchain business network is deployed, you must create at least one participant who will be a blockchain business network administrator. This participant is responsible for onboarding other participants into the blockchain business network. Here, we are specifying that we want to create a single blockchain business network administrator called <code>admin</code>.</p>
<div class="highlight"><pre><code class="language-" data-lang="">-S adminpw
</code></pre></div>
<p>This specifies that our blockchain business network administrator <code>admin</code> will use an enrollment secret of <code>adminpw</code> to request a certificate and private key from the CA (Certificate Authority). When you specify this option, the name specified for the business network administrator must be an existing enrollment ID for a user that is already registered with the CA.</p>

<p>Now that our blockchain business network has been started, we can interact with it using the business network card file <code>admin@tutorial-network.card</code> that was created.</p>

<h2 id="step-nine-importing-the-business-network-card-for-the-business-network-administrator">Step Nine: Importing the business network card for the business network administrator</h2>

<p>Run the <code>composer card import</code> command to import the business network card into the wallet:</p>
<div class="highlight"><pre><code class="language-" data-lang="">composer card import -f admin@tutorial-network.card
</code></pre></div>
<p>You can now use this business network card by specifying the name <code>admin@tutorial-network</code>. You are now all set to interact with the running blockchain business network!</p>

<h2 id="step-ten-testing-the-connection-to-the-blockchain-business-network">Step Ten: Testing the connection to the blockchain business network</h2>

<p>Run the <code>composer network ping</code> command to test the connection to the blockchain business network:</p>
<div class="highlight"><pre><code class="language-" data-lang="">composer network ping -c admin@tutorial-network
</code></pre></div>
<p>Check that the test result was successful, and there is a single participant listed for the business network with the name <code>NetworkAdmin</code>.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this tutorial you have seen how to configure IBM Blockchain Platform: Develop with all of the information required to connect to a Hyperledger Fabric network, and how to deploy a blockchain business network to that Hyperledger Fabric network.</p>

<p>If you used the simple Hyperledger Fabric network provided in the development environment, why not try building your own Hyperledger Fabric network by following the Hyperledger Fabric documentation and see if you can successfully deploy a blockchain business network to it?</p>

            
          </section>
        </div>
        <!-- Otherwise, have the main content fill all 12 columns... -->
        
      <div class="PageNavigation">
    
    
  </div>
    </article>
</div>
<script>
(function (document) {
    function clipboard_init() {
        var charts = document.querySelectorAll("div.highlight"),
            arr = [],
            i, j, maxItem, pre, btn, el;

        // Make sure we are dealing with an array
        for(i = 0, maxItem = charts.length; i < maxItem; i++) arr.push(charts[i]);

        // Find the UML source element and get the text
        for (i = 0, maxItem = arr.length; i < maxItem; i++) {
            el = arr[i];
            pre = el.childNodes[0];

            pre.id = "hl_code" + i.toString();
            btn = document.createElement('copy-button');
            btn.appendChild(document.createTextNode('Copy'));
            btn.setAttribute("class", "copy-btn");
            btn.setAttribute("data-clipboard-target", "#hl_code" + i.toString());
            el.insertBefore(btn, pre);
        }
        new Clipboard('.copy-btn');
    };

    function onReady(fn) {
        if (document.addEventListener) {
            document.addEventListener('DOMContentLoaded', fn);
        } else {
            document.attachEvent('onreadystatechange', function() {
                if (document.readyState === 'interactive')
                    fn();
            });
        }
    }

    onReady(function(){
        clipboard_init();
    });
})(document);
</script>
<script src="/develop/assets/js/nav.js"></script>
<script src="/develop/assets/js/search_bar.js"></script>

    

    


  </div>
</body>
</html>
